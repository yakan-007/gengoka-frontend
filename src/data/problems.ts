import { Problem } from '@/types';

export const problems: Problem[] = [
  // フェーズ1: 基礎の確立と「型」の習得
  {
    id: 'phase1-1',
    phase: 1,
    type: 'bad_example_correction',
    title: '【添削】報告書の改善',
    description: '以下の悪い例を読んで、より分かりやすく効果的な報告書に書き直してください。',
    content: `以下は新人営業担当者が書いた月次売上報告書の一部です。この文章の問題点を特定し、改善した版を作成してください。

【悪い例】
今月の売上について報告させていただきます。結果的にはそれなりに良い感じだったと思います。お客様からの反応も悪くなかったです。いくつか課題もありましたが、全体としては前月よりも少し改善されたのかなという印象です。数字に関しては、だいたい目標に近い感じで、詳細は別途グラフで示しているのでそちらを見ていただければと思います。来月については、今月の経験を活かしてもう少し頑張りたいと思っております。`,
    hints: [
      '具体的な数値や根拠を示す',
      '結論を最初に明確に述べる',
      '曖昧な表現を避ける',
      '次月への具体的なアクションを示す'
    ],
    estimatedTime: 15
  },
  {
    id: 'phase1-2',
    phase: 1,
    type: 'template_fill',
    title: '【テンプレート】会議議事録の作成',
    description: '提供されたテンプレートを使用して、効果的な議事録を作成してください。',
    template: `# 会議議事録

**会議名**: [会議名を記入]
**日時**: [日時を記入] 
**参加者**: [参加者を記入]
**議題**: [主要議題を記入]

## 決定事項
1. [決定事項1]
2. [決定事項2]

## アクション項目
| 項目 | 担当者 | 期限 | 状況 |
|------|--------|------|------|
| [アクション1] | [担当者名] | [期限] | [進行中/完了] |

## 次回会議
**日時**: [次回日時]
**議題**: [次回の主要議題]

## 備考
[その他重要な情報]`,
    content: `以下の会議の情報を元に、上記のテンプレートを使用して議事録を作成してください。

【会議情報】
- プロダクト開発チームの週次定例会議
- 2024年12月16日 14:00-15:00開催  
- 参加者：田中（PM）、佐藤（エンジニア）、山田（デザイナー）、鈴木（QA）
- 主な議題：来月リリース予定の新機能について

【議論内容】
- ユーザー認証機能の仕様が確定
- UI/UXデザインの修正が必要（ボタンサイズとカラー）
- QAテストは来週火曜日から開始予定
- API仕様書のドキュメント更新が必要
- 次回会議は12月23日同時刻、テスト結果の共有が議題`,
    hints: [
      'すべての項目を漏れなく記入する',
      '決定事項とアクション項目を明確に分ける',
      '担当者と期限を具体的に記載する'
    ],
    estimatedTime: 20
  },
  {
    id: 'phase1-3',
    phase: 1,
    type: 'bad_example_correction',
    title: '【添削】指示メールの改善',
    description: '以下の指示メールを、より明確で実行しやすい内容に改善してください。',
    content: `以下は部長から部下に送られた業務指示メールです。この指示の問題点を特定し、改善版を作成してください。

【悪い例】
件名：例の件について

お疲れ様です。

例の件についてですが、先日話したとおり進めてもらえればと思います。
できるだけ早めにお願いします。何かあったら相談してください。
よろしくお願いします。

【背景情報】
- 新規顧客向けの提案資料作成について
- 12月20日にプレゼン予定
- PowerPoint形式で15-20ページ程度
- 競合他社の分析も含める必要がある`,
    hints: [
      '件名を具体的にする',
      '指示内容を明確に列挙する',
      '期限と成果物を明示する',
      '必要なリソースや条件を提示する'
    ],
    estimatedTime: 15
  },
  {
    id: 'phase1-4',
    phase: 1,
    type: 'template_fill',
    title: '【テンプレート】プロジェクト提案書',
    description: 'プロジェクト提案のテンプレートを使用して、新しい改善案を提案してください。',
    template: `# プロジェクト提案書

## 提案概要
**プロジェクト名**: [プロジェクト名]
**提案者**: [あなたの名前]
**提案日**: [日付]

## 現状の課題
[現在抱えている問題や課題を具体的に記述]

## 提案内容
[解決策や改善案を詳細に説明]

## 期待される効果
### 定量的効果
- [数値で測れる効果1]
- [数値で測れる効果2]

### 定性的効果  
- [質的な改善点1]
- [質的な改善点2]

## 実施計画
| フェーズ | 期間 | 主な作業内容 |
|----------|------|-------------|
| Phase 1 | [期間] | [作業内容] |
| Phase 2 | [期間] | [作業内容] |

## 必要リソース
- 人員：[必要な人数と期間]
- 予算：[概算金額]
- その他：[必要な設備や環境]

## リスクと対策
| リスク | 発生確率 | 影響度 | 対策 |
|--------|----------|--------|------|
| [リスク1] | [高/中/低] | [高/中/低] | [対策内容] |

## 承認要請
[承認を求める事項と次のステップ]`,
    content: `以下の状況に基づいて、上記のテンプレートを使用してプロジェクト提案書を作成してください。

【状況】
- あなたは営業部門のメンバーです
- 顧客からのクレーム対応に時間がかかりすぎている（平均3日）
- 顧客満足度が低下している（前年比-15%）
- AIチャットボット導入による初期対応自動化を提案したい
- 導入コストは約200万円、導入期間は3ヶ月
- 対応時間を50%短縮、満足度10%向上が期待される`,
    hints: [
      '課題を数値や具体例で示す',
      'ROIを明確に計算する',
      '実施可能なスケジュールを作成する',
      'リスクを事前に洗い出す'
    ],
    estimatedTime: 25
  },
  {
    id: 'phase1-5',
    phase: 1,
    type: 'bad_example_correction',
    title: '【添削】進捗報告の改善',
    description: '曖昧で分かりにくい進捗報告を、具体的で行動を促す報告に改善してください。',
    content: `以下はプロジェクトの進捗報告です。この報告の問題点を特定し、改善版を作成してください。

【悪い例】
プロジェクトの進捗報告をさせていただきます。

現在のところ、全体的には順調に進んでいると思います。いくつか課題もありますが、チーム一同頑張って取り組んでおります。

スケジュール的には若干の遅れが生じているかもしれませんが、最終的には予定通り完了できるよう努力いたします。品質については問題ないレベルを維持できていると考えています。

何かご質問等ございましたら、お気軽にお声がけください。

【背景情報】
- Webサイトリニューアルプロジェクト
- 当初予定：3ヶ月（12月末完了）
- 現在：2ヶ月経過時点
- チーム：5名（デザイナー2名、エンジニア2名、PM1名）
- 予算：500万円`,
    hints: [
      'タスクごとの進捗率を数値で示す',
      '遅れの原因と対策を明確化する',
      '具体的な完了予定日を提示する',
      '必要なサポートがあれば明記する'
    ],
    estimatedTime: 20
  },
  {
    id: 'phase1-6',
    phase: 1,
    type: 'template_fill',
    title: '【テンプレート】問題解決レポート',
    description: '発生した問題の分析と解決策をまとめるレポートを作成してください。',
    template: `# 問題解決レポート

## 問題概要
**発生日時**: [日時]
**発生場所**: [場所/システム名]
**影響範囲**: [影響を受けた範囲]
**重要度**: [高/中/低]

## 問題の詳細
### 症状
[どのような現象が発生したか]

### 原因分析
[根本原因の特定結果]

### 影響
[業務やシステムへの具体的な影響]

## 対応経緯
| 時刻 | 対応者 | 対応内容 |
|------|--------|----------|
| [時刻] | [担当者] | [対応内容] |

## 解決策
### 暫定対応
[緊急に実施した対応]

### 恒久対策
[根本的な解決策]

## 再発防止策
1. [防止策1]
2. [防止策2]
3. [防止策3]

## 学んだこと・改善点
[今回の件から得られた知見]

## フォローアップ
**確認日**: [確認予定日]
**確認項目**: [確認すべき事項]`,
    content: `以下のインシデントについて、上記のテンプレートを使用して問題解決レポートを作成してください。

【インシデント情報】
- 12月15日午前10時にECサイトで決済エラーが発生
- 約2時間にわたり新規注文ができない状態が継続
- 影響：推定50件の注文機会損失（約30万円）
- 原因：決済システムのAPIキーの有効期限切れ
- 対応：午前12時にAPIキーを更新して復旧
- 担当者：田中（システム管理者）、佐藤（サポート）`,
    hints: [
      '時系列で対応を整理する',
      '数値での影響を明確にする',
      '再発防止の具体的な仕組みを提案する',
      'ステークホルダーへの報告も考慮する'
    ],
    estimatedTime: 20
  },
  {
    id: 'phase1-7',
    phase: 1,
    type: 'bad_example_correction',
    title: '【添削】会議招集メールの改善',
    description: '曖昧な会議招集メールを、参加者が準備しやすい明確な案内に改善してください。',
    content: `以下は会議招集メールです。この案内の問題点を特定し、改善版を作成してください。

【悪い例】
件名：会議のお知らせ

お疲れ様です。

来週あたりに会議を開催したいと思います。
例の件について話し合いをしたいと思っているので、都合の良い時間を教えてください。
資料等は当日までに用意していただければと思います。

よろしくお願いします。

【背景情報】
- 四半期予算の見直しについて議論したい
- 参加者：営業部長、経理部長、企画部長（3名）
- 想定時間：2時間程度
- 来週火曜日の午後が希望
- 各部門の予算実績と来期計画の資料が必要`,
    hints: [
      '会議の目的を明確にする',
      '具体的な日時の選択肢を提示する',
      '必要な準備物を詳細に列挙する',
      'アジェンダを事前に共有する'
    ],
    estimatedTime: 15
  },
  {
    id: 'phase1-8',
    phase: 1,
    type: 'template_fill',
    title: '【テンプレート】顧客対応記録',
    description: '顧客との重要なやり取りを記録するテンプレートを使用してください。',
    template: `# 顧客対応記録

## 基本情報
**顧客名**: [会社名・担当者名]
**対応日時**: [日時]
**対応者**: [自分の名前]
**対応方法**: [電話/メール/対面/Web会議]
**対応時間**: [所要時間]

## 対応内容
### 顧客からの要求・相談
[顧客が話した内容を要約]

### 提供した回答・提案
[こちらから提示した内容]

### 顧客の反応
[顧客の反応や感想]

## 決定事項
- [決定事項1]
- [決定事項2]

## 次回アクション
| 項目 | 担当 | 期限 | 詳細 |
|------|------|------|------|
| [アクション1] | [担当者] | [期限] | [詳細内容] |

## 注意事項・備考
[今後の対応で注意すべき点や参考情報]

## フォローアップ予定
**次回連絡予定**: [日付]
**確認事項**: [確認すべき内容]`,
    content: `以下の顧客対応について、上記のテンプレートを使用して記録を作成してください。

【対応状況】
- A商事の購買担当・山田様との電話対応（30分）
- 12月16日午後2時から実施
- 新商品の導入検討について相談
- 予算は500万円、導入希望時期は来年4月
- 競合他社との比較検討中
- デモンストレーションの実施を提案し、来週火曜日で仮予約
- 詳細な見積書の提出を1週間以内に約束
- 決済権限者への説明も必要との情報`,
    hints: [
      '顧客の真のニーズを把握する',
      '競合状況を詳しく記録する',
      '次回アクションの責任者を明確にする',
      '売上機会としての評価を含める'
    ],
    estimatedTime: 15
  },
  {
    id: 'phase1-9',
    phase: 1,
    type: 'bad_example_correction',
    title: '【添削】提案書の要約改善',
    description: '冗長で要点が分からない提案書の要約を、簡潔で魅力的な内容に改善してください。',
    content: `以下は新サービスの提案書の要約部分です。この要約の問題点を特定し、改善版を作成してください。

【悪い例】
この度は貴重なお時間をいただき、誠にありがとうございます。弊社では長年にわたり様々なお客様にサービスを提供させていただいており、その経験を活かして今回新しいサービスを検討しております。

このサービスは最近の市場動向やお客様のニーズを踏まえたもので、きっと皆様のお役に立てるのではないかと考えております。詳細につきましては後ほど説明させていただきますが、コスト面や効率性の観点からもメリットがあると思われます。

ご不明な点やご質問等ございましたら何でもお聞かせください。今後ともよろしくお願いいたします。

【背景情報】
- オンライン研修サービスの提案
- 従来の集合研修から切り替えることで50%のコスト削減
- 24時間いつでも受講可能
- 受講進捗の自動管理機能付き
- 導入企業の満足度95%`,
    hints: [
      '具体的なメリットを数値で示す',
      '冗長な前置きを削除する',
      'サービスの特徴を端的に表現する',
      '読み手の関心を引く構成にする'
    ],
    estimatedTime: 15
  },
  {
    id: 'phase1-10',
    phase: 1,
    type: 'template_fill',
    title: '【テンプレート】改善提案書',
    description: '職場の業務改善案をまとめるテンプレートを活用してください。',
    template: `# 業務改善提案書

## 提案概要
**提案タイトル**: [改善提案のタイトル]
**提案者**: [名前・部署]
**提案日**: [日付]

## 現状の問題点
### 具体的な課題
[現在の業務で発生している問題]

### 問題の影響
- 時間的損失：[具体的な時間]
- コスト影響：[金額やリソース]
- 品質への影響：[品質面での問題]

## 改善提案
### 提案内容
[具体的な改善案]

### 実施方法
[どのように実行するか]

### 必要な準備
[実施に必要な準備や条件]

## 期待効果
### 定量的効果
- 時間短縮：[どの程度の短縮]
- コスト削減：[削減額]
- 生産性向上：[向上率]

### 定性的効果
- [品質向上などの効果]
- [働きやすさの向上]

## 実施計画
| ステップ | 期間 | 内容 | 担当 |
|----------|------|------|------|
| 準備段階 | [期間] | [準備内容] | [担当者] |
| 実施段階 | [期間] | [実施内容] | [担当者] |
| 評価段階 | [期間] | [評価方法] | [担当者] |

## 成功指標
[改善効果を測る具体的な指標]

## 承認要請
[上司や関係部署への要請事項]`,
    content: `以下の課題について、上記のテンプレートを使用して改善提案書を作成してください。

【現状の課題】
- 月次売上レポート作成に毎月8時間かかっている
- Excelでの手作業が多く、計算ミスが月1-2回発生
- データの収集が各部署への個別依頼で時間がかかる
- レポート完成が月末から5営業日後になってしまう
- BIツール導入により自動化できる可能性がある
- 導入コスト：月額5万円、初期設定：1週間`,
    hints: [
      '現状の無駄を具体的に数値化する',
      'ROIを明確に示す',
      '段階的な導入計画を立てる',
      'リスクも考慮した提案にする'
    ],
    estimatedTime: 25
  }
];

// フェーズ別の問題を取得する関数
export function getProblemsByPhase(phase: number): Problem[] {
  return problems.filter(problem => problem.phase === phase);
}

// 問題IDから問題を取得する関数
export function getProblemById(id: string): Problem | undefined {
  return problems.find(problem => problem.id === id);
}

// 問題の総数を取得する関数
export function getTotalProblemsByPhase(): { [key: number]: number } {
  return {
    1: problems.filter(p => p.phase === 1).length,
    2: problems.filter(p => p.phase === 2).length,
    3: problems.filter(p => p.phase === 3).length,
  };
} 